---
import { QueryProvider } from '../../components/QueryProvider';
import { Scoreboard as ScoreboardComponent } from '../../components/Scoreboard';
import Layout from '../../layouts/Layout.astro';

// Enable SSR for this dynamic route
export const prerender = false;

// Get the sessionId from the URL params
const { sessionId } = Astro.params;

// Validate sessionId exists
if (!sessionId) {
  return Astro.redirect('/404');
}
---

<Layout title="Scoreboard - Perfil Game">
	<QueryProvider client:only="react">
		<ScoreboardComponent sessionId={sessionId} client:load />
	</QueryProvider>
</Layout>
