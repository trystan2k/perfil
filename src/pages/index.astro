---
import { GameSetup } from '../components/GameSetup';
import { I18nProvider } from '../components/I18nProvider';
import { LanguageSwitcher } from '../components/LanguageSwitcher';
import Layout from '../layouts/Layout.astro';
import { detectLocale } from '../lib/localeDetection';

// Detect locale from Astro config or Accept-Language header
const acceptLanguage = Astro.request.headers.get('accept-language');
const currentLocale = detectLocale(Astro.currentLocale, acceptLanguage);
---

<Layout title="Perfil - Game Setup">
	<I18nProvider client:only="react" locale={currentLocale}>
		<LanguageSwitcher client:load />
		<GameSetup client:load />
	</I18nProvider>
</Layout>
